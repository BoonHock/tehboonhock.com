<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Photos</title>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css">
		<link rel="stylesheet" href="../CSS/main-css.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
		<style>
			.thumbnail-row img{
				height: 200px;
				width: auto;
			}
			.thumbnail{
				padding: 0px;
				position: relative;
				border: 2px solid grey;
				background: black;
			}
			.thumbnail:hover{
				cursor: pointer;
				border-color: aqua;
				box-shadow: 5px 5px 5px #808080;
			}
			figcaption{
				visibility: hidden;
				width: 100%;
				height: 100%;
				position: absolute;
				bottom: 0px;
				background: rgba(128, 128, 128,0); /* For browsers that do not support gradients */
				background: -webkit-linear-gradient(rgba(128, 128, 128,0),rgba(0,0,0,1)); /*Safari 5.1-6*/
				background: -o-linear-gradient(rgba(128, 128, 128,),rgba(0,0,0,1)); /*Opera 11.1-12*/
				background: -moz-linear-gradient(rgba(128, 128, 128,),rgba(0,0,0,1)); /*Fx 3.6-15*/
				background: linear-gradient(rgba(128, 128, 128,), rgba(0,0,0,1)); /*Standard*/
			}
			figcaption p {
				width: 100%;
				white-space: nowrap;
				color: white;
				position: absolute;
				bottom: 0px;
				height: 20%;
				overflow: hidden;
				text-overflow: ellipsis;
			}
			.modal-header, .modal-footer{
				border: none;
			}
			.modal-footer, .modal-header button{
				color: white;
				text-align: center;
			}
			.modal-body img{
				max-height: 600px;
			}
			@media only screen and (max-width : 992px){
				.modal-body img{
					max-height: 450px;
				}
			}
			@media only screen and (max-width : 768px){
				.modal-body img{
					max-height: 280px;
				}
			}
		</style>
	</head>
	<body>
		<div class="container">
			<a href="home.html"><img src="../images/fun-tehboonhock.png" class="center-block img-responsive" alt="logo"></a>
		</div>
		<div class="container-fluid">
			<div class="row">
				<nav class="navbar navbar-inverse col-xs-12" data-offset-top="197" >
					<!-- story titles collapsed navbar -->
					<div class="navbar-header">
						<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#myNavbar">
							<span class="icon-bar"></span>
							<span class="icon-bar"></span>
							<span class="icon-bar"></span> 
						</button>
					</div>
					<!-- end story titles collapsed navbar -->
					<div class="collapse navbar-collapse" id="myNavbar">
						<ul class="nav navbar-nav" id="main-nav">
							<li><a href="home.html"><span class="glyphicon glyphicon-home"></span></a></li>
							<li><a href="primary-school.html">Primary school</a></li>
							<li><a href="high-school.html">High school</a></li>
							<li><a href="national-service.html">National Service</a></li>
							<li><a href="form-6.html">Form 6</a></li>
							<li><a href="breakout.html">Breakout</a></li>
							<li><a href="photos.html">Photos</a></li>
						</ul>
						<ul class="nav navbar-nav navbar-right">
							<li><a href="../main.html">Main page <span class="glyphicon glyphicon-log-out"></span></a></li>
						</ul>
					</div>
				</nav>
			</div>
		</div>
		<div class="container" style="margin-bottom:10px">
			<div class="row">
				<div class="col-md-12">
					<img class="img-responsive" src="../images/photos.png" alt="photos">
				</div>
			</div>
			<div class="row thumbnail-row">
				<div class="col-md-3 col-xs-6">
					<figure class="thumbnail" data-toggle="modal" href="#zoom-photo" data-keyboard="true">
						<img src="../images/ns-wood-rifle.jpg" class="img-responsive center-block" id="first-img" alt="photo">
						<figcaption><p>I can explain...</p></figcaption>
					</figure>
				</div>
				<div class="col-md-3 col-xs-6">
					<figure class="thumbnail" data-toggle="modal" href="#zoom-photo" data-keyboard="true">
						<img src="../images/ns-kayak.jpg" class="img-responsive center-block" alt="photo">
						<figcaption><p>That's me! The bald one! Oh wait...</p></figcaption>
					</figure>
				</div>
				<div class="col-md-3 col-xs-6">
					<figure class="thumbnail" data-toggle="modal" href="#zoom-photo" data-keyboard="true">
						<img src="../images/ns-3.jpg" class="img-responsive center-block" alt="photo">
						<figcaption><p>Cross-cultural event. My Malay friends helped me with the <i>samping</i></p></figcaption>
					</figure>
				</div>
				<div class="col-md-3 col-xs-6">
					<figure class="thumbnail" data-toggle="modal" href="#zoom-photo" data-keyboard="true">
						<img src="../images/ns-1.jpg" class="img-responsive center-block" alt="photo">
						<figcaption><p>Some random gay party</p></figcaption>
					</figure>
				</div>
			</div>
			<div class="row thumbnail-row">
				<div class="col-md-3 col-xs-6">
					<figure class="thumbnail" data-toggle="modal" href="#zoom-photo" data-keyboard="true">
						<img src="../images/grasshopper.jpg" class="img-responsive center-block" alt="photo">
						<figcaption><p>I made this!</p></figcaption>
					</figure>
				</div>
				<div class="col-md-3 col-xs-6">
					<figure class="thumbnail" data-toggle="modal" href="#zoom-photo" data-keyboard="true">
						<img src="../images/alvin-me.jpg" class="img-responsive center-block" alt="photo">
						<figcaption><p>Sorry Alvin! I just had to put this up!</p></figcaption>
					</figure>
				</div>
				<div class="col-md-3 col-xs-6">
					<figure class="thumbnail" data-toggle="modal" href="#zoom-photo" data-keyboard="true">
						<img src="../images/form-6-bkb-win.jpg" class="img-responsive center-block" alt="photo">
						<figcaption><p>We won an interschool Form 6 3on3 basketball championship (one reserved player)</p></figcaption>
					</figure>
				</div>
				<div class="col-md-3 col-xs-6">
					<figure class="thumbnail" data-toggle="modal" href="#zoom-photo" data-keyboard="true">
						<img src="../images/form-6-bkb-girls.jpg" class="img-responsive center-block" alt="photo">
						<figcaption><p>Female team that I coached. They won second and third place respectively</p></figcaption>
					</figure>
				</div>
			</div>
			<div class="row thumbnail-row">
				<div class="col-md-3 col-xs-6">
					<figure class="thumbnail" data-toggle="modal" href="#zoom-photo" data-keyboard="true">
						<img src="../images/edmund-ws.jpg" class="img-responsive center-block" alt="photo">
						<figcaption><p>THE REJECTED BROTHERS!!</p></figcaption>
					</figure>
				</div>
				<div class="col-md-3 col-xs-6">
					<figure class="thumbnail" data-toggle="modal" href="#zoom-photo" data-keyboard="true">
						<img src="../images/athlete-of-the-year.jpg" class="img-responsive center-block" alt="photo">
						<figcaption><p>I used to be able to <span class="lead">walk</span> really fast...</p></figcaption>
					</figure>
				</div>
				<div class="col-md-3 col-xs-6">
					<figure class="thumbnail" data-toggle="modal" href="#zoom-photo" data-keyboard="true">
						<img src="../images/mi-tang-3.jpg" class="img-responsive center-block" alt="photo">
						<figcaption><p>Sudden Taman Botani Negara (formerly known as Bukit Cahaya) trip</p></figcaption>
					</figure>
				</div>
				<div class="col-md-3 col-xs-6">
					<figure class="thumbnail" data-toggle="modal" href="#zoom-photo" data-keyboard="true">
						<img src="../images/photo.jpg" class="img-responsive center-block" alt="photo">
						<figcaption><p>GLAD to be FLAT</p></figcaption>
					</figure>
				</div>
			</div>
			<div class="row thumbnail-row">
				<div class="col-md-3 col-xs-6">
					<figure class="thumbnail" data-toggle="modal" href="#zoom-photo" data-keyboard="true">
						<img src="../images/mi-tang-4.jpg" class="img-responsive center-block" alt="photo">
						<figcaption><p>This sure bring back memories</p></figcaption>
					</figure>
				</div>
				<div class="col-md-3 col-xs-6">
					<figure class="thumbnail" data-toggle="modal" href="#zoom-photo" data-keyboard="true">
						<img src="../images/photo-1.jpg" class="img-responsive center-block" alt="photo">
						<figcaption><p>I HAD ONE JOB</p></figcaption>
					</figure>
				</div>
				<div class="col-md-3 col-xs-6">
					<figure class="thumbnail" data-toggle="modal" href="#zoom-photo" data-keyboard="true">
						<img src="../images/elder-brother.jpg" class="img-responsive center-block" alt="photo">
						<figcaption><p>I miss my elder brother a lot....</p></figcaption>
					</figure>
				</div>
				<div class="col-md-3 col-xs-6">
					<figure class="thumbnail" data-toggle="modal" href="#zoom-photo" data-keyboard="true">
						<img src="../images/photo-2.jpg" class="img-responsive center-block" id="last-img" alt="photo">
						<figcaption><p>Why you late?! Later I die how?</p></figcaption>
					</figure>
				</div>
			</div>
		</div>
		<div id="zoom-photo" class="modal fade" tabindex="-1">
			<div class="modal-dialog modal-lg">
				<div class="modal-content" style="background-color:black">
					<div class="modal-header">
						<button type="button" class="close" data-dismiss="modal">&times;</button>
					</div>
					<div class="modal-body">
						<img class="center-block img-responsive" alt="photo">
						<!-- Left and right controls -->
							<a class="left carousel-control" role="button">
								<span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
								<span class="sr-only">Previous</span>
							</a>
							<a class="right carousel-control" role="button">
								<span class="glyphicon glyphicon-chevron-right" aria-hidden="true"></span>
								<span class="sr-only">Next</span>
							</a>
					</div>
					<div class="modal-footer">
					</div>
				</div>
			</div>
		</div>
		<footer class="page-footer">
			<div class="container-fluid text-center" style="margin-top: 10px">
				<div class="row">
					<div class="col-sm-5 date">Date started 18/11/2015</div>
					<div class="col-sm-2"><b>tehboonhock.com</b></div>
					<div class="col-sm-5 date">Date ended: 25/12/2015</div>
				</div>
			</div>
		</footer>
		<script src="../JS/pages-start-up.js"></script>
		<script>
			function nextImg(nextPrev){
				// $(this) for .modal-body img refers to current viewing image and change it
				// $(this) for .modal-footer refers to changed image to get figcaption
				var currentImg = $('.modal-body img');
				currentImg.attr('src', changeImg(currentImg, nextPrev));
				$('.modal-footer').html($('.thumbnail img[src=\'' + currentImg.attr('src') +
											'\']').next().html());
			};
			function changeImg(currentImg, nextPrev){
				// get current image src in modal and search for the same src in .thumbnail images.
				// Then proceed to get next sibling's img src and return
				var a = $('.thumbnail img[src=\'' + currentImg.attr('src') +
											'\']').parent().parent();
				// if user clicks on image or right arrow, get next image
				if(nextPrev == 'next'){
					// get next image of same row
					var b = a.next().children(':first').children(':first').attr('src');
					if(b){
						// if next image in the same row available
						return b;
					}else if(b = a.parent().next().children(':first').children(':first').children(':first').attr('src')){
						// if last image of a row and there is an image in the next row
						return b;
					}else{
						// if last image in last row, go back to first image
						return $('#first-img').attr('src');	
					}
				// else get previous image
				}else{
					var b = a.prev().children(':first').children(':first').attr('src');
					
					if(b){
						// if next image in the same row available
						return b;
					}else if(b = a.parent().prev().children(':last').children(':first').children(':first').attr('src')){
						// if last image of a row and there is an image in the next row
						return b;
					}else{
						// if last image in last row, go back to first image
						return $('#last-img').attr('src');	
					}
				}

			};
			$(document).ready(function(){
				$('.thumbnail')
				// display figcaption upon mouseenter and remove upon mouseleave
					.hover(function(){$(this).children(':last').css('visibility','visible');},
														function(){$('figcaption').css('visibility','hidden');})
					.click(function(){
					// when thumbnail is clicked, get the thumbnail's img src and put it in modal's img src
					// and get figcaption (including html tag) to put in .modal-footer
						$('.modal-body img').attr('src',$(this).children(':first').attr('src'));
						$('.modal-footer').html($(this).children(':last').html());
				});
				$('.modal-body img').on('click',function(){nextImg('next')});
				$('.right.carousel-control').on('click',function(){nextImg('next')});
				$('.left.carousel-control').on('click',function(){nextImg('prev')});
			});
		</script>
	</body>
</html>